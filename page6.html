<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微信小程序 | 逻辑层</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/minprogram/assets/css/11.styles.5018ea7c.css" as="style"><link rel="preload" href="/minprogram/assets/js/app.b6ffb07d.js" as="script"><link rel="preload" href="/minprogram/assets/js/4.0b56a750.js" as="script"><link rel="prefetch" href="/minprogram/assets/js/0.b66b4b57.js"><link rel="prefetch" href="/minprogram/assets/js/1.882a0dbd.js"><link rel="prefetch" href="/minprogram/assets/js/2.3c0eeda3.js"><link rel="prefetch" href="/minprogram/assets/js/3.be0f0f39.js"><link rel="prefetch" href="/minprogram/assets/js/5.086762d4.js"><link rel="prefetch" href="/minprogram/assets/js/6.9e0bf36a.js"><link rel="prefetch" href="/minprogram/assets/js/7.727d0196.js"><link rel="prefetch" href="/minprogram/assets/js/8.3471cafc.js"><link rel="prefetch" href="/minprogram/assets/js/9.62a01e60.js"><link rel="prefetch" href="/minprogram/assets/js/10.bb4ccc8d.js">
    <link rel="stylesheet" href="/minprogram/assets/css/11.styles.5018ea7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/minprogram/" class="home-link router-link-active"><!----><span class="site-name">
      微信小程序
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><a href="/minprogram/page1.html" class="sidebar-link">起步</a></li><li><a href="/minprogram/page2.html" class="sidebar-link">代码构成</a></li><li><a href="/minprogram/page3.html" class="sidebar-link">发布前的准备</a></li><li><a href="/minprogram/page4.html" class="sidebar-link">上线</a></li><li><a href="/minprogram/page5.html" class="sidebar-link">体验小程序</a></li><li><a href="/minprogram/page6.html" class="active sidebar-link">逻辑层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/minprogram/page6.html#注册程序" class="sidebar-link">注册程序</a></li><li class="sidebar-sub-header"><a href="/minprogram/page6.html#场景值" class="sidebar-link">场景值</a></li><li class="sidebar-sub-header"><a href="/minprogram/page6.html#注册页面" class="sidebar-link">注册页面</a></li></ul></li><li><a href="/minprogram/page7.html" class="sidebar-link">视图层</a></li><li><a href="/minprogram/page8.html" class="sidebar-link">组件</a></li><li><a href="/minprogram/page9.html" class="sidebar-link">API</a></li></ul></div><div class="page"><div class="content"><h1 id="逻辑层"><a href="#逻辑层" aria-hidden="true" class="header-anchor">#</a> 逻辑层</h1><p>小程序开发框架的逻辑层由 <code>JavaScript</code> 编写。</p><p>逻辑层将数据进行处理后发送给视图层，同时接受视图层的事件反馈。</p><p>在 <code>JavaScript</code> 的基础上，我们做了一些修改，以方便地开发小程序。</p><ul><li><p>增加 <code>App</code> 和 <code>Page</code> 方法，进行<strong>程序</strong>和<strong>页面</strong>的注册。</p></li><li><p>增加 <code>getApp</code> 和 <code>getCurrentPages</code> 方法，分别用来获取 <code>App</code> 实例和当前页面栈。</p></li><li><p>提供丰富的 <code>API</code>，如<strong>微信用户数据</strong>，<strong>扫一扫</strong>，<strong>支付</strong>等微信特有能力。</p></li><li><p>每个页面有<strong>独立的作用域</strong>，并提供模块化能力。</p></li><li><p><strong>由于框架并非运行在浏览器中</strong>，所以 <code>JavaScript</code> 在 <code>web</code> 中一些能力都无法使用，如 <code>document</code>，<code>window</code> 等。</p></li><li><p>开发者写的所有代码最终将会打包成一份 <code>JavaScript</code>，并在小程序启动的时候运行，<strong>直到小程序销毁</strong>。类似 <code>ServiceWorker</code>，所以逻辑层也称之为 <code>App Service</code>。</p></li></ul><h2 id="注册程序"><a href="#注册程序" aria-hidden="true" class="header-anchor">#</a> 注册程序</h2><h3 id="app-object"><a href="#app-object" aria-hidden="true" class="header-anchor">#</a> App(object)</h3><p><code>App()</code> 函数用来注册一个小程序。接受一个 <code>object</code> 参数，其指定小程序的生命周期函数等。</p><p><strong>object参数说明</strong>：</p><p><img src="/minprogram/assets/img/minprogram15.f669c801.png" alt></p><p><strong>示例代码</strong>：</p><pre class="language-js"><code><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  onLaunch<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something initial when launch.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onShow<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Do something when show.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onHide<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Do something when hide.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onError<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  globalData<span class="token punctuation">:</span> <span class="token string">'I am global data'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><h3 id="onlaunch-onshow-参数"><a href="#onlaunch-onshow-参数" aria-hidden="true" class="header-anchor">#</a> onLaunch, onShow 参数</h3><p><img src="/minprogram/assets/img/minprogram16.2e3317f5.png" alt></p><h3 id="场景值-详见。"><a href="#场景值-详见。" aria-hidden="true" class="header-anchor">#</a> 场景值 详见。</h3><p>以下场景支持返回 <code>referrerInfo.appId</code>：</p><p><img src="/minprogram/assets/img/minprogram17.028298e9.png" alt></p><h3 id="onpagenotfound"><a href="#onpagenotfound" aria-hidden="true" class="header-anchor">#</a> onPageNotFound</h3><p>当要打开的页面并不存在时，会回调这个监听器，并带上以下信息：</p><p><img src="/minprogram/assets/img/minprogram18.5f3e4757.png" alt></p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>开发者可以在 onPageNotFound 回调中进行重定向处理，但必须在回调中<strong>同步处理</strong>，异步处理（例如 setTimeout 异步执行）无效。</p></div><p><strong>示例代码：</strong></p><pre class="language-js"><code><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">onPageNotFound</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token punctuation">:</span> <span class="token string">'pages/...'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 如果是 tabbar 页面，请使用 wx.switchTab</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="warning custom-block"><p class="custom-block-title">注意</p><ol><li><p>如果开发者没有添加 <code>onPageNotFound</code> 监听，当跳转页面不存在时，将推入<strong>微信客户端原生</strong>的页面不存在提示页面</p></li><li><p>如果 <code>onPageNotFound</code> 回调中又重定向到另一个不存在的页面，将推入<strong>微信客户端原生</strong>的页面不存在提示页面，并且不在回调 <code>onPageNotFound</code>。</p></li></ol></div><h3 id="getapp"><a href="#getapp" aria-hidden="true" class="header-anchor">#</a> getApp()</h3><p>全局的 <code>getApp()</code> 函数可以用来获取到小程序实例。</p><pre class="language-js"><code><span class="token comment">// other.js</span>
<span class="token keyword">var</span> appInstance <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>appInstance<span class="token punctuation">.</span>globalData<span class="token punctuation">)</span> <span class="token comment">// I am global data</span>
</code></pre><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li><code>App()</code> 必须在 <code>app.js</code> 中注册，且不能注册多个。</li><li>不要在定义于 <code>App()</code> 内的函数中调用 <code>getApp()</code> ，使用 <code>this</code> 就可以拿到 <code>app</code> 实例。</li><li>不要在 <code>onLaunch</code> 的时候调用 <code>getCurrentPages()</code>，此时 <code>page</code> 还没有生成。</li><li>通过 <code>getApp()</code> 获取实例之后，不要私自调用生命周期函数。</li></ul></div><h2 id="场景值"><a href="#场景值" aria-hidden="true" class="header-anchor">#</a> 场景值</h2><p>当前支持的场景值有：</p><p><img src="/minprogram/assets/img/minprogram19.77331f2c.png" alt><img src="/minprogram/assets/img/minprogram20.ee500784.png" alt><img src="/minprogram/assets/img/minprogram21.f8f1158a.png" alt></p><p>......</p><p>可以在 <code>App</code> 的 <code>onlaunch</code> 和 <code>onshow</code> 中获取上述场景值，部分场景值下还可以获取来源应用、公众号或小程序的<code>appId</code>。详见</p><h2 id="注册页面"><a href="#注册页面" aria-hidden="true" class="header-anchor">#</a> 注册页面</h2><h3 id="page"><a href="#page" aria-hidden="true" class="header-anchor">#</a> Page</h3><p><code>Page()</code> 函数用来注册一个页面。接受一个 <code>object</code> 参数，其指定页面的<strong>初始数据</strong>、<strong>生命周期函数</strong>、<strong>事件处理函数</strong>等。</p><h4 id="object-参数说明："><a href="#object-参数说明：" aria-hidden="true" class="header-anchor">#</a> object 参数说明：</h4><p><img src="/minprogram/assets/img/minprogram22.6616747a.png" alt></p><p><code>object</code> 内容在页面加载时会进行一次深拷贝，需考虑数据大小对页面加载的开销。</p><h4 id="示例代码："><a href="#示例代码：" aria-hidden="true" class="header-anchor">#</a> 示例代码：</h4><pre class="language-js"><code><span class="token comment">//index.js</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span> <span class="token string">&quot;This is page data.&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onLoad<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do some initialize when page load.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onReady<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when page ready.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onShow<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when page show.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onHide<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when page hide.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onUnload<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when page close.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onPullDownRefresh<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when pull down.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onReachBottom<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when page reach bottom.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onShareAppMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// return custom share data when user share.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onPageScroll<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something when page scroll</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onTabItemTap</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>pagePath<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Event handler.</span>
  viewTap<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      text<span class="token punctuation">:</span> <span class="token string">'Set some data for updating view.'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// this is setData callback</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  customData<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hi<span class="token punctuation">:</span> <span class="token string">'MINA'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><h4 id="初始化数据"><a href="#初始化数据" aria-hidden="true" class="header-anchor">#</a> 初始化数据</h4><p>初始化数据将作为页面的第一次渲染。<code>data</code> 将会以 <code>JSON</code> 的形式由逻辑层传至渲染层，所以其数据必须是可以转成 <code>JSON</code> 的格式：<strong>字符串</strong>，<strong>数字</strong>，<strong>布尔值</strong>，<strong>对象</strong>，<strong>数组</strong>。</p><h4 id="示例代码：-2"><a href="#示例代码：-2" aria-hidden="true" class="header-anchor">#</a> 示例代码：</h4><p>a.wxml</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{array[0].msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>a.js</p><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span> <span class="token string">'init data'</span><span class="token punctuation">,</span>
    array<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>msg<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>msg<span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><h3 id="生命周期函数"><a href="#生命周期函数" aria-hidden="true" class="header-anchor">#</a> 生命周期函数</h3><ul><li><p><strong><code>onLoad:</code></strong> 页面加载</p><ul><li>一个页面只会调用一次，可以在 <code>onLoad</code> 中获取打开当前页面所调用的 <code>query</code> 参数。</li></ul></li><li><p><strong><code>onShow:</code></strong> 页面显示</p><ul><li>每次打开页面都会调用一次。</li></ul></li><li><p><strong><code>onReady:</code></strong> 页面初次渲染完成</p><ul><li>一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。</li><li>对界面的设置如<code>wx.setNavigationBarTitle</code>请在<code>onReady</code>之后设置。</li></ul></li><li><p><strong><code>onHide:</code></strong> 页面隐藏</p><ul><li>当<code>navigateTo</code>或底部<code>tab</code>切换时调用。</li></ul></li><li><p><strong><code>onUnload:</code></strong> 页面卸载</p><ul><li>当<code>redirectTo</code>或<code>navigateBack</code>的时候调用。</li></ul></li></ul><div class="danger custom-block"><p class="custom-block-title">注意</p><ul><li><code>navigateTo</code>, <code>redirectTo</code> 只能打开非 <code>tabBar</code> 页面。</li><li><code>switchTab</code> 只能打开 <code>tabBar</code> 页面。</li><li><code>reLaunch</code> 可以打开任意页面。</li><li>页面底部的 <code>tabBar</code> 由页面决定，即只要是定义为 <code>tabBar</code> 的页面，底部都有 <code>tabBar</code>。</li><li>调用页面路由带的参数可以在目标页面的<code>onLoad</code>中获取。</li></ul></div><h3 id="页面相关事件处理函数"><a href="#页面相关事件处理函数" aria-hidden="true" class="header-anchor">#</a> 页面相关事件处理函数</h3><ul><li><p><strong><code>onPullDownRefresh:</code></strong> 下拉刷新</p><ul><li>监听用户下拉刷新事件。</li><li>需要在<code>app.json</code>的<code>window</code>选项中或页面配置中开启<code>enablePullDownRefresh</code>。</li><li>当处理完数据刷新后，<strong><code>wx.stopPullDownRefresh</code></strong> 可以停止当前页面的下拉刷新。</li></ul></li><li><p><strong><code>onReachBottom:</code></strong> 上拉触底</p><ul><li>监听用户上拉触底事件。</li><li>可以在<code>app.json</code>的<code>window</code>选项中或页面配置中设置触发距离<code>onReachBottomDistance</code>。</li><li>在触发距离内滑动期间，本事件<strong>只会被触发一次</strong>。</li></ul></li><li><p><strong><code>onPageScroll:</code></strong> 页面滚动</p><ul><li>监听用户滑动页面事件。</li><li>参数为 <code>Object</code>，包含以下字段：</li></ul></li></ul><p><img src="data:image/png;base64,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" alt></p><ul><li><p><strong><code>onShareAppMessage:</code></strong> 用户转发</p><ul><li>只有定义了此事件处理函数，右上角菜单才会显示“转发”按钮</li><li>用户点击转发按钮的时候会调用</li><li>此事件需要 <code>return</code> 一个 <code>Object</code>，用于自定义转发内容</li></ul><p><strong>自定义转发字段</strong></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnYAAACfCAYAAAB0gJSaAAAeR0lEQVR4nO3dT2hc173A8Z9KtwkxdYpNrBZBmkdMnYXwwlIRaQWmrxsTSyjBEhiCV8FZGe8keyFLO+NVRFbmgUEyjpAS8jYNAaXBZORFELy4OLzWMPRJRaJ2SHEWpd3MO+fcf+fce+7MHVmjmTn9fso09sydO3fmnnvO7/zOuccDDUWUf/zzXwIAAID+9aNuHwAAAAAOBoEdAABAIAjsAAAAAkFgBwAAEAgCOwAAgEAQ2AEAAASCwA4AACAQBHYAAACBILADAAAIBIEdAABAIAjsAAAAAkFgBwAAEAgCOwAAgED8+HA/7pF8uvS1HJm6KGM/rfqWT+TDL3bkxTfekZmffGX+bHvlN+/LuZMHf6SoQp/PP8kvLr8lr8fPPL1/R2o/ueieE30OH78m71U4Ud9++oH8Ybv4POcZTf3tS1lefSjPCi+ckF/H5VOXzc/k5/LCN39x6yD93t+L/Pbim3I0//YKZVeX2a0jqn4ae9l939dHZMq3TwDooEMO7E7Kud/8ST5c/USOWsFAnq6AV79JqmhdMb8fbftIPV44lVaWukL982EcNkrE53PpE5H4fB4dOy2ydEfuH00aThX8ffFMfjnlNoyFAG5wPG08TRCfNpJP5P6de/L9IXwb9Lm4bpC0c6HLzle5jVSZnRIVBKoymgR3P31Tfjuk6hxVjn/dpF7yeyR/3n5RfnZEdTqXdnKv7ah9PrT+fmIf+weA9nQusCvtQUf+sKQa9txzTlbGaugjqpL+ekdeHPoVPeBecvItmfrujnx2/4m8boKxkzL6xtfy2f8+UQ2mbmM3RNR59WVo0wDOZEUO/cgRnO+lducTOTKk/vidqn8+FfmZbzMVyM1cdp86OnZRpsQuxxU9+pP8dfC0nBs7KWNj9vNk7AB0R2czdlZ2rTlPVmZ7Q/WAN9zNdLBnVbovH3lR/vDFB/LhF/SEu0k3ijP6D/GweeSefPhN/EdzjsQTrPs9+8Z6b+yVgztcBOuIjCYZO9XB+O05kW/vfCV/drLDWdlyM8NWObY8/a6sa6pFnc1XTr8VbeuMNGh2xo46CsDh6Fxgp3vFFyXX2PtEFd7YxffdpysEAboifm+s6SY4bCXBvGn0cuOpTgA3+Fr6PEOx2JcfHlqB1D0VZOn/qvpF1S0qxvPOhbODsXygl/r7E3mq/lOcf/eV/PEHt9Ph30c0FxUADkPn59idfEve88VnccD3ym+q9WKLveEEPeHuiAIu3bBVz8y6GIrFgTHDq2+aP3pv4Ik9qz+Sp2NZWU06hybo8+z2yfeqzvnhe1Xa84FdNHf0xRdy+/dkmyMn5BdtfiUA2I9DvnkiYibOy7i8d/mt8o2coVgdvP1Oflm/J9+ftubhxXesEdR1w8smyzpm5hJZTztZk5zBVvt8Ik//LnpEDWhPYU5vPPyfdvz0TQ76774grUx0Y8Qrg8/kz49EXrcDxb+pvbzxOxn+/p5zAxcZOwDd1rHArmzZioxnDl1yV5vmG4o9fUIFEV/K05O6x+2/2xJdps/h6e9l1UwcPynf3omC8dHvikOxZZhjh7a1ytipQOwHVTZ/PfSXYpDmiO6kPXpRBYP6xogXfi5TZ0Q++31S72Sfd+6nup5z303GDkC3dSywe/3c+/5MWoW7xZ6W7fTkr+SXX9+Tz+6r+OGbh6V3W6IbVIP43WvyngrmdMMqL73mnF8z5JV7R2GO3d8eyf/98KIK1u11Dpljh9aKUzWSjF1Uno4+UPXF0Dvy+n+IbOWDtJTOrD2UH954R8asGyOOqrI4/NIHUnv0Zsu1FMnYAei2rgzFVuVU1nEGb+w/T5khl7/qzBDJuh6hl5m4J3Ja3wDzRL6tP1MN4knzZ0dusdfiTRIb8kydZ4J1tMu9kSpeOHvqiGyt/kVVJF/K1vYJGT4XLcfzM7nnDdKeqc7iC6qzOHMyGnH440vj6fzg18+cUvv6RL492Xw+Lxk7AN3WncDupZfL57ioxj8K5jbksyPvyHuX7YZfVbYmo/O+6oF/YOZy8S8S9IAfdkz29NzRL2VZnRMdnPlumLGXjshndL/9VN+Ioe9g5GRiP1Qwd+eJ/EIPtf7kYryW4q9kRtUfny5tmIAtKm8vx51DexFtPbczyxSbaSR/P2WmEqT0IsZvRIsYS5ObtcjYAei2gYai//CPf/6rgx/zyFSuf43/1ioYi5bGOJ3NsUvvoM2/L7kzkztjuyX6Z5p+l/5zb/lzlB8i8557c37FOYfuHE3OL5oz/wrNq3Hn4sHLMhMXsrR85oKtQh1jP1//eelUkag8v5iWx+hzx0W+yOq3ZuiIAui0QwrsAAAA0Gk/6vYBAAAA4GAQ2AEAAASCwA4AACAQBHYAAACBILADAAAIBIEdAABAIAjsAAAAAkFgBwAAEAgCOwAAgEAQ2AEAAASCwA4AACAQBHYAAACBILADAAAIxEBD6fZBAAAA4PmRsQMAAAgEgR0AAEAgCOwAAAACQWAHAAAQCAI7AACAQBDYAQAABILADgAAIBAEdgAAAIEgsAMAAAgEgR0AAEAgCOwAAAACQWAHAAAQCAI7AACAQBDYAQAABILADgAAIBAEdgAAAIEgsAMAAAgEgR0AAEAgCOwAAAACQWAHAAAQCAI7AACAQBDYAQAABILADgAAIBCHH9g9WJSBgUlZ2Wm20aYsDgzI4oPDOig8F31O316RvcILe7Lydtm51q9Z53hnRSbTfUSvDdzY9H+e3nZgUZJXN2+obQf8j8m7yVFFZcp9XR3b3cUK70W/2rs7WV6OCnQZycpVyimbVfZRte5KyqT6TFOmS8pxi+PX37Gtsmo+q1UdnPNgMbtmdqRwDQLoHZ0N7Exl0OrijxpxGtH+tfn5nCxcmZZj+Rd2NmRNJmX8hOdN5rVluXQm+Xtd1k8Nxfs4JtMfNaRxdqNCJ0Bk5JratuF/rF2wj2pClreT12qyoJ8am43/vivLU/br+fei51UKwHIdCseIzKrKatSps1TwNahK8S1P+d6nrCMyqv6iy9qs+mRlall2c+V3d2Wi5f6OjU2KTF+uFqjp32hwRtbV/2YGW3Ro7GDz1lB8bGsyra7nzf+aEVm5FB03gJ5y+Bm7M7Np5YD+ljRQo9dF5kayhmHxbtwg6AZkdUaOW41G0qDu3V8TOT+eNpZ79S2ZeHXI/YB8Wdmx9itzqgEeKMkUlrEbs1G1B/PJUXZw4LjMrNqvk43oOyemZen8mipvZZ0BnSFT5/lUTWaTDsWDXMZ2RJeKuGyl5SQfBLWZ7cqJOiK6I9H+e00GMh+MNQnUnA6zCepUkLrt7wTV5tU287WsQ6N+zzX92vayOOGl2s9Ndc2vTx8vHktb1yOATuhYYGcafbuSTC54O4tnGmrdoGaVRLMhDGfIjQqk60wDtblgGgO7gZi9oBuEqOFa2HQbj6RBrT9edxqG49Pr/oZiwAq0koZGf6YsSE3/+aN2MimejF3h+fxr6CfHLqyp8jEsM1fy9YMO4G/KkD7P16w805lZb5DT/OF2TE295BsujTsibp2WDL9G9V7UIYoDxVwnKLku8iZWdisfaxKkmYBwsC5XG1elPpjvtESdm5uv7rq/TYkoW1c8BhMYpll3AF3T6KTNhYZqgBu1ps/tNlQA0FCVlbVRraEa1oYKCpxtVACRbTHv/h3dUZufaKigyJyP6HzF50pKHlPLjd3iXhoL3ufLPlOyMrS93Jgo+yzziI4vKVPF1/TxRtvsrkzEZUpvmyu36HEtyl2TcmjOu28bUxai/UZlW5eLpDwl8s+5dVe0b09ZisttVsdV/JZqf6aubFnuszrVHIN9fZk6OPrs6Pjy36nF75LuK7t2ouPhmgF6QX/cFfvgturdLkjN6k2OvLssE9c3GC7rJj0k8zA/hy6aH2fmBuUyeY2SDNve3Zsy58lW+G9i2JSN6/q/USZ4cSfO4llZAzejkWRXRmS2ReZFKwwHo0/E8zKrZLI2PfnYXFmtMrdNM2V3/mrp1JJjF5ZkeWpObubmEOupCDoXNzcSZeua3QDkHclIh0l3nXl5JmsmUaY8ydaZLKZ93ekspfoNdLbwsiyVTo0x70t+r6kJmUgy274suTmeWebcAT2gLwI7Pf/KnfeSzCvZkvpzzHXB8zGNUxyQZfPsooZKD7UunK1Sze/JxsfDsryykBsOTYZEJ2RyLGtGdEO6Na+fVYH+9rJs3VqRPc8deu7wWDKPznfH4cZB/iToV9dHWw6BFm3K7WmR5XeblXMVcF5ZkHXn5gZd5lUnQk9VmI+GjYeu5QLP/PSGM/697+3clsvWcW+cbba9dWf4SDTD1Df9wQ0i1bXz+Za+CmVJD+NeSa43e54hqxgAvaQvAjvDc8cYN2F0V9qjjzMF0Xw6fU72pP7QvaGidNL5g9uydv6STF8YjxoN66XNG6O5bIhuSIfl6rtxVk1nCT6alrrnDr0oo3sz/jw3m5Mdq55vNW7tu0pjjp6VvxGi7BEHNY59ZOx0+dxaWWpdB52ZVWVuPZv3p0cgTk2qUEk5Oyu759fkdsWgSHeY5PHt9G7V4yNzYpfa/DWngy37Lty5ZG5qySPJ+CX27t5WxzgZ/21EZuPrbd25LvXdxDoDyA1HQC/oi8Du2NCwyOqabJCd62lJozJ5VwrDYtEdd/khK9XTV9HYVTNkpBqHWyKX48ybnuw9+lAF8/Zk7p16cYkFc4eem9UzVNB3VTWma/eTUFFn7bKGxz1WPaFcB5E1WZLL6vkNGWdYqf9UvRHCNxTbbsbOTENYlqWKS+KYjoapw1Q5vLUly++Op6/pDtKsLLqBp308uRvFhlUwuJb/TvrOVbvza+5knZChE/ZyQG3eFKS+4+WPh9ypFvH1VshSmuB1TkYrrxkIoFMOIbCrNly6/rhe/uKZS7I8te7e6aaHA6hEusqeF6SHYpMs2NoFsRYYLr/jTmc8ZNMKoHQGbntIbuqG9eNJ2c3P5VGvz+Ya0s1C9iCjG1OZvh0Hc3Wpr2ZlMTnWq4/1UFR2t6TJQppjIPvwb6XdjF2cLa58B6iZg6az2aocnvKUVzsozQ/Fpp+j55dGwVpz6pq7orPYFbKJzaiO1LCzPmXz/bpZcgDd0tnALgnIBpstTxLNQUl6qP55GnooTfU27Qn2V0SWKtyaj86xFwbOD+GM39qV5Yej8bIOC3FWLqODwlHJ1hNL1+eK19naNeuRtZi3U5Y9SJwYl8l44rqZ5D4lsjYYBaHud8gN6TMRvP80+5cbqgzFloqG8cvmuLVvRGb3WW+1ulEjEx2zf4Ht3Fzl3MO+NnSw6X7vZvsVK3ht51sBOHDt30gLFGXLnfhfc5Z80MstmCUTsiVI3OVu8u/Nvb+wtIK9lIlv6QZrWYZGk2UcSpaLQGDS8hfJlrlxy0Z6/uPlQaTZcj0tl/TJs5ZRqbB0icz/t1OG7X1k27RabKT1Mj7e61gfn/Od7O/LEidArxnQ/3c4ISQAAAA6qS9ungAAAEBrBHYAAACBILADAAAIBIEdAABAIAjsAAAAAkFgBwAAEAgCOwAAgEAQ2AEAAASCwA4AACAQBHYAAACBILADAAAIBIEdAABAIAjsAAAAAkFgBwAAEAgCOwAAgEAQ2AEAAASCwA4AACAQBHYAAACBILADAAAIBIEdAABAIAjsAAAAAkFgBwAAEAgCOwAAgED8OPnD3t7Tbh4HAAAAntNAQ+n2QQAAAOD5MRQLAAAQCAI7AACAQBDYAQAABILADgAAIBAEdgAAAIEgsAMAAAgEgR0AAEAgCOwAAAACQWAHAAAQCAI7AACAQBDYAQAABILADgAAIBAEdgAAAIEgsAMAAAgEgR0AAEAgCOwAAAACQWAHAAAQCAI7AACAQBDYAQAABILADgAAIBAEdgAAAIEgsAMAAAgEgR0AAEAg+jOwe7AoAwOLstnt40BEn4+3V2Sv8MKerLw9KSs7vjfp1wZk8UH8150VmUz3Eb02cKN4hvfuTqpzP2A9sv1v3hiQybvFo/B/7qYsOvtxH+lxoa+Z8uIpR366THjqFads2tuWlx//Q+87Ltttvvfwy2P0/bp1Hejz1vpadt6hflf1++pz1fS3tOqjltvmtk8/x3qupO5r//ib/N6mvWu3nOX37T5Xpa4su3aq1bPu9tWvwVy70OJYfOcwPbbSdql4fJN3N5tel+2dyx7Q6Hm1xoI6zIVN66nNhYbIgnoFvaA2nzs/ie3lxsTUcmPX96b8a/qczufOqDnPE43l7eyp3ZUJaztdNuLXzbZSeOSPSx9r4XPyr1O2+pOnvLnlxTzTWJ4qKa9aoW6xylgV+v1lZb4T7zsQnjrW+9zhMtei85voc+c7F9E5nVjJ/3pl28d0eWl6rfveX3xOH2f+s3W5Kx5POVNOq5x/bzlpUUa3dxs1vX/J6j7fMeeOqOQ60Z/VZv1ofudm11BU1nz1d3QtNjmPuXOYfa+Sfebq/la/u3m9neu/R/Rnxg49wfTEVG9m9LrI3IiVXbgb96IGZ2R9dUaOezIPe/fXRM6Py7F4X3v1LZl4dcj9gDOzquOxJtMnWh6JLI7MibpARV2gurMi6oIXdcHL+Jlkm6gnOCo1aVwbKf0+ow/1PmbFvwV62olpWTq/pspbWZZYZy6Oy8ypmswm5SKfDdHlSOZkNH1uVP1tXWYGm2VxrE/4fE4mrHJdlX7fwpXptt8Xniy7NHKtIbvqfN5O6oy7l9W5u5qrD6JzWr/SkLULuV9vZ0PWZFLGm9Yf9rnOP1RZWW19xCPvLotM336OEaQ92fh4fV/lpiVdvq9syNCFNVUv1mTh+mjrLKzJgkXfPavXo3Oyd/em+sXyv1lyPZRksXU7ULiG4ofJwo3I7KYKw+ZV3dzYFRVQigoopaGfm1Jtgj7vq8X3N8uibd7Q1+2EqIAsag+S/Z4dsbYZkOMfT8ruR/7rTmcJj08PS61SG9RjOhczZr2oKAsSPzzRsfO63RsoZGHs7IzazkTruddwuHyZNqN5ZsQ951UeUbnYTXqeuUdSzkxvzdNDtHvQhd60VY7a6WWjR1lZjSxj1yJ7s09l5bHwcK6RZhmK1lmGwufr7+rUlcXv2XYdm2bsoutYDu36KMkIVchU7W7q3I57vL56InVAGTvzbK5OaStj1zKjZWkzY7e7XUt/D/t4SkdZkuNxPiM+J97fy/492stuO9n0khGXpPzXVrLjcY7diQFycUb6W3kyuna7VWjDrOuzybXXyzoe2ImTzo+fs38s9aPaBayYfi8birW3i/fbtaGMf1+1+ehCzi625hWr/xypc1zx3KWVgTegTD67Vdrfbbzs7ZMGsJtDUNiPFuWuSTksDc7SgDApD8WGqzjU6zmywjZ28FLsANnDZK32v5sbYsuec4O3tutYz7XR0WGptBH2BHZp4NNkeDgdQi/vUBaGH8uCAm+gm6jWQWgaOHm2rRxA7GcoVssFj+0HdipQbTnc/RyBXfJJ8yW/uz6mpN63jy0NNv0dguT6KA+y7fJSjFlav783dX4odt4a9pBjMn1FXZrXN7K09ZlZ63WRkbPq9dW61FvueEKWbyUp1Hi/ld6HA7OzIjcf5oc61Ln4qCHqgohT6w334Ul7m/R+bsi2LOV+TA8peIdS42G21QVZXpEobe+d+DsqWytXRa7ofW/IuDmuLNWuh3902n7oVh9OmP23FpW7QnnzPfQQT16urJryuy+6HJYP1ZaxpzLoqQ3tWZCadU0cu3BVPTMnG8mQ277rWFXLriyl10a033Wpt/ndqigdwtbDgoNrMrmtr9ERuaTOy9znuetaDzeqr1/zTKHQw22lQ48npmWtZXnZzzDcntQfTshQpfdtysZ1d4gw/7ozvKmnChTqSs90gXzdZ75r8l308bX7nYblqrq+1oZu5/atylE6XD0is/ozdqrd7HF7yK7Lo++5cTYZil0ydXR67vTxn90w39+ZsmC+l3/qjBlqnV6XhRU9VH7cc1NJMrxfk/HP9TFdFrkVnffkejHtjfr71cfH27gBpPs6HtgV5k2dGFIh2ZZTOTh3Opo5LlUMV7xw0Cl6nlwyhy6bZxc1avXH600qK2cvsvHxsArGFqz5EMmjphqSCZkcy6p75+6o66PmYl28YQdpszIdX4y7r9505kPp945e1/sbiYOAsrl0UZBQmLODcJmylDU6ukE4TGZOUVzua/NtvnlqSNxaVv1dNY5b9axjsr86VtWyQ4dxDUTBTeGzdMA2OCPDm2tucGklBsz3Kgnqmn1e+3c0txGs67l9qxXbpwcbKiiz5wLn6WAp1ykpdJijetKpP1XAVFxBwJ07aHcmCgGhEzzqwDGmOgmmXnXuNs19VzM3unUHy53nGtXfThJI1cHjspLdrfr5uHlfFITFHW8zHzAJ2KK5f4s3osBy42z8ORfiAH57SG7m7po1gZ9qp6IOfXkQb14vmZvdi7p+80Q6gbFZbxo9KenNJI1R1DjpiyPqERYrDk/l+OC2rJ2/pIKxcalfcW9NNxNg5/OTpS2mgpuV2Wu6l1ecBH18WlRlF12sZiLsxzrPm+69eeVe4TZ59Jiqy0L4ApsDy9hp7Xc6ny9j11zP17Ge4KZuArYtE6zMOkHPiIzPz8lN0zhvym0zuT0K6vQ17mbnyjJTuWApfVgT9ytn7opLOpkO7/x4hUBTvffWnEysXKoclOqbzKqy6+eWgaAVEBr2jWhme3e/+qaWy4URjX0EzLqe1YGgisxGPUHn6MhMdgNL3PnS18fEyq6n472gyoIqL9dmzfVbaH9UJ0GS95ks75ZMTFnnoukyRP21vFrHA7v1x7mE/05d1tOKL05DczdYEJILafKuFIbFTBaiEKTpu1lFrpoLVFW2t0Qup3dfTUZ3qLbRS3IrZLsyirKCtY+uqpKXcCv3LDAtHzJGj6uYKfAGNgeUsYvuGmzfc2XsCsOq0fBYlAHr/TrWDMM6wc2czPjuRozXJRs6uxC3K/oajjN1JvsynMt86d+hWTbMvyZbpQ6pJKsC6DtyreOMs0BS6e5TndlzRyRa0SMhhVGwtugAJhm6bX/KQEIHd8XAypNdtALEQh1r17Pea7c80K40mpLrrNnX1ebnutOwJJPZN3LaLB0Y6uAxe39/rZTQ+YydU8CjZSnyPZRsyCBetsLDHlZAb0iWO0l6UckFuHZBrAWGo57QzVd3C6lsnZGTTeuC0fMl4nR5s9vQ26cv2v66MHHI9pmxc+Z8mkZdZHkzKsP6utB1X/m80IMyJ6PW/B+T6VYN6iUroDnUOrbNBeT1MFfUUOuMz6jJ3pUOrZ4akmM6CLB/Tz0cZ7J7+j1RA62zfNGSF/Hw3AP7c7L33fQMARcDCTvA1MFiNJ/NLJ2UH1LUc8DipTrmRpoHTiazN9VqORaL2v/o9YW4I7wPyTImp+Kyvj0pa4PPOTqxU5eyHGLLpX+cYdT4PZ45kYVA+wBGU0au9eESJm3o/By7lZqZiJ6M1W85KdRo/Zp1M7ExnidV6E1HE2ajbfbfw8DBi+Yl+LMM47dUb+vhaJxaL1ZGZs04yW6sSeeDmInS0fpVxwfKJj7XzRBGkmVJtnErgNF9ZU7Qpyr9KwLtzzETK1AolQwBm7leqsE4k0zK303rvuKNOHPeoaekk5TUiZUyhyqIq5n5pPH7daY77RQdfh1rhgsrDUVa7zHXv24flqVsoNgECvlslZmHl9xckW5phgSjNSmj7L2M5IbTzE0ZM+o4F2RrZKD6xPh42LhmD1smQ5D20LEZXhxukhXTw8jrlTOpe+nQ9D46qEn5jOvW9Ljjm0eSutYpo2Vz7PL0CFxhjmf8+6v6vWlmzYzetVaa5bPU7fX1nDnYnZvi0NMaHVO2GjhC1Oz2+cK/5uAsbdB8fazs9nd73ULfEgS+5Rry2yXPVVxHrE/XMEILuSUT7GUX7KVP0jJpr7GVvM9eKqNCOXGXGKm+en+l5U56bJmndpb6SLa3v0P5Gpf53yz/OybXdclv66x/WvzXI5rXByXLeMRlo+z7lq5n18a/ntT6HJcsM1JYFqzpp2Ttddk6dtZ29m9TXFPO/728ywrpsl1p2RnfmoT/412jL/0sz1Iq7nZJu1FxqaQeu86aGdD/d2BRokMPwR2XtfO+SY4AgOcV3RR0kNMWnpfO1ug7HJn6UC5qG82QaB/daYn+8eNuHwAAIBR6Aj3BSnPR8P50tw8Dwepgxg4AAACHqevr2AEAAOBgENgBAAAEgsAOAAAgEAR2AAAAgSCwAwAACASBHQAAQCAI7AAAAAJBYAcAABAIAjsAAIBAENgBAAAEgsAOAAAgEAR2AAAAgSCwAwAACASBHQAAQCAI7AAAAAJBYAcAABAIAjsAAIBAENgBAAAEgsAOAAAgEP8PTtY4J/JiFGkAAAAASUVORK5CYII=" alt></p></li></ul><h4 id="示例代码"><a href="#示例代码" aria-hidden="true" class="header-anchor">#</a> 示例代码</h4><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  onShareAppMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">'自定义转发标题'</span><span class="token punctuation">,</span>
      path<span class="token punctuation">:</span> <span class="token string">'/page/user?id=123'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><h3 id="事件处理函数"><a href="#事件处理函数" aria-hidden="true" class="header-anchor">#</a> 事件处理函数</h3><p>除了<strong>初始化数据</strong>和<strong>生命周期函数</strong>，Page 中还可以定义一些<strong>特殊的函数</strong>：<strong>事件处理函数</strong>。在<strong>渲染层</strong>可以在组件中加入<strong>事件绑定</strong>，当达到触发事件时，就会执行 <code>Page</code> 中定义的<strong>事件处理函数</strong>。</p><h4 id="示例代码：-3"><a href="#示例代码：-3" aria-hidden="true" class="header-anchor">#</a> 示例代码：</h4><p>b.wxml</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewTap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> click me <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>b.js</p><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  viewTap<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'view tap'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><h3 id="page-prototype-setdata"><a href="#page-prototype-setdata" aria-hidden="true" class="header-anchor">#</a> Page.prototype.setData()</h3><p><code>setData</code> 函数用于将数据从<strong>逻辑层</strong>发送到<strong>视图层</strong>（异步），<strong>同时改变对应的 <code>this.data</code> 的值（同步）</strong>。</p><h3 id="setdata-参数格式"><a href="#setdata-参数格式" aria-hidden="true" class="header-anchor">#</a> setData() 参数格式</h3><p><img src="data:image/png;base64,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" alt></p><p><code>object</code> 以 <code>key</code>，<code>value</code> 的形式表示将 <code>this.data</code> 中的 <code>key</code> 对应的值改变成 <code>value</code>。 <code>callback</code> 是一个回调函数，在这次<code>setData</code><strong>对界面渲染完毕后调用</strong>。</p><p>其中 <code>key</code><strong>可以非常灵活</strong>，以数据路径的形式给出，如 <strong><code>array[2].message</code></strong>，<strong><code>a.b.c.d</code></strong>，并且不需要在 <code>this.data</code> 中预先定义。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><ul><li><strong>直接修改 <code>this.data</code> 而不调用 <code>this.setData</code> 是无法改变页面的状态的，还会造成数据不一致。</strong></li><li><strong>单次设置的数据不能超过<code>1024kB</code>，请尽量避免一次设置过多的数据。</strong></li><li>请不要把 <code>data</code> 中任何一项的 <code>value</code> 设为 <code>undefined</code> ，否则这一项将不被设置并可能遗留一些潜在问题。</li></ul></div><h4 id="示例代码：-4"><a href="#示例代码：-4" aria-hidden="true" class="header-anchor">#</a> 示例代码：</h4><p>index.wxml</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changeText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Change normal data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changeNum<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Change normal num <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{array[0].text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changeItemInArray<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Change Array data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{object.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changeItemInObject<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Change Object data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{newField.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addNewField<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Add new data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>index.js</p><pre class="language-js"><code>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span> <span class="token string">'init data'</span><span class="token punctuation">,</span>
    num<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    array<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'init data'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    object<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      text<span class="token punctuation">:</span> <span class="token string">'init data'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  changeText<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this.data.text = 'changed data'  // bad, it can not work</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      text<span class="token punctuation">:</span> <span class="token string">'changed data'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  changeNum<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      num<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  changeItemInArray<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// you can use this way to modify a danamic data path</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'array[0].text'</span><span class="token punctuation">:</span><span class="token string">'changed data'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  changeItemInObject<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'object.text'</span><span class="token punctuation">:</span> <span class="token string">'changed data'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  addNewField<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'newField.text'</span><span class="token punctuation">:</span> <span class="token string">'new data'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/minprogram/page5.html" class="prev">
          体验小程序
        </a></span><span class="next"><a href="/minprogram/page7.html">
          视图层
        </a> →
      </span></p></div></div></div></div>
    <script src="/minprogram/assets/js/4.0b56a750.js" defer></script><script src="/minprogram/assets/js/app.b6ffb07d.js" defer></script>
  </body>
</html>
